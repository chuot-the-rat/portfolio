<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leana Le - Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="profile-section">
                <div class="profile-image"></div>
                <h1>Leana Le</h1>
                <p class="tagline">UI/UX Designer & Developer</p>
                <p class="bio">
                    Digital Design and Development student at BCIT with a passion for creating 
                    thoughtful user experiences through research-driven design and clean code.
                </p>
                
                <!-- CTA Buttons -->
                <div class="cta-buttons">
                    <a href="Le_Leana_Resume.pdf" class="cta-btn primary" download>
                        <span class="cta-icon">üìÑ</span>
                        Download Resume
                    </a>
                    <a href="mailto:leanale003@gmail.com" class="cta-btn secondary">
                        <span class="cta-icon">‚úâÔ∏è</span>
                        Get in Touch
                    </a>
                </div>
            </div>

            <div>
                <h3 class="section-title">Education</h3>
                <div class="stats">
                    <div class="stat">
                        <div class="stat-number">2026</div>
                        <div class="stat-label">BCIT Grad</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">DDD</div>
                        <div class="stat-label">Diploma</div>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="section-title">Skills</h3>
                
                <div class="skills-category">
                    <div class="skills-category-label">UX Design</div>
                    <div class="skills">
                        <span class="skill-tag">User Research</span>
                        <span class="skill-tag">Wireframing</span>
                        <span class="skill-tag">Prototyping</span>
                        <span class="skill-tag">User Testing</span>
                        <span class="skill-tag">User Flows</span>
                        <span class="skill-tag">Journey Mapping</span>
                    </div>
                </div>

                <div class="skills-category">
                    <div class="skills-category-label">UI Design</div>
                    <div class="skills">
                        <span class="skill-tag">Figma</span>
                        <span class="skill-tag">Typography</span>
                        <span class="skill-tag">Color Theory</span>
                        <span class="skill-tag">Accessibility</span>
                        <span class="skill-tag">Responsive Design</span>
                    </div>
                </div>

                <div class="skills-category">
                    <div class="skills-category-label">Development</div>
                    <div class="skills">
                        <span class="skill-tag">HTML/CSS</span>
                        <span class="skill-tag">JavaScript</span>
                        <span class="skill-tag">React</span>
                        <span class="skill-tag">Next.js</span>
                        <span class="skill-tag">Python</span>
                        <span class="skill-tag">Git/Github</span>
                    </div>
                </div>

                <div class="skills-category">
                    <div class="skills-category-label">Tools</div>
                    <div class="skills">
                        <span class="skill-tag">Adobe Illustrator</span>
                        <span class="skill-tag">Photoshop</span>
                        <span class="skill-tag">After Effects</span>
                        <span class="skill-tag">VS Code</span>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="section-title">Contact</h3>
                <div class="contact-info">
                    <a href="mailto:leanale003@gmail.com" class="contact-item">
                        <span class="contact-icon">üìß</span>
                        leanale003@gmail.com
                    </a>
                    <a href="tel:7789948400" class="contact-item">
                        <span class="contact-icon">üì±</span>
                        778 994 8400
                    </a>
                    <a href="https://linkedin.com/in/leanale" class="contact-item" target="_blank">
                        <span class="contact-icon">üíº</span>
                        linkedin.com/in/leanale
                    </a>
                    <a href="https://github.com/chuot-the-rat" class="contact-item" target="_blank">
                        <span class="contact-icon">üíª</span>
                        github.com/chuot-the-rat
                    </a>
                </div>
            </div>
        </aside>

        <!-- Right Canvas Area -->
        <main class="canvas-area">
            <div class="canvas-header">
                <h2 class="canvas-title">Selected Work</h2>
                <p class="canvas-subtitle">Drag to rearrange ‚Ä¢ Click to view case study</p>
            </div>

            <div class="canvas-instructions">
                üí° Click any project to explore the full case study
            </div>

            <!-- Canvas -->
            <div class="project-canvas" id="canvas">
                <!-- Project icons will be added here dynamically -->
            </div>
        </main>
    </div>

    <!-- Case Study Modal -->
    <div class="case-study-modal" id="caseStudyModal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <button class="close-btn" id="closeBtn">√ó</button>
        <div class="modal-content">
            <div class="cs-content" id="csContent">
                <!-- Content will be dynamically inserted -->
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // CUSTOMIZE YOUR PROJECTS HERE
        // ============================================
        const projects = [
            {
                id: 1,
                // Replace with path to your project icon image
                iconUrl: 'https://placehold.co/150x150/0ea5e9/white?text=App1',
                title: 'FinTech Mobile App',
                
                // Case study data - instruction manual style
                caseStudy: {
                    role: 'Lead Designer',
                    duration: '3 months',
                    year: '2024',
                    client: 'FinanceCo',
                    tools: ['Figma', 'React Native', 'After Effects'],
                    
                    // Overview section
                    overview: 'A mobile banking application designed to make financial management accessible and intuitive for millennials and Gen Z users. The project focused on simplifying complex financial data into actionable insights.',
                    
                    // The challenge
                    challenge: 'Traditional banking apps overwhelm users with information and complex navigation. Our challenge was to create an experience that felt modern, trustworthy, and easy to use while maintaining all necessary functionality for secure financial transactions.',
                    
                    // Goals checklist
                    goals: [
                        'Simplify complex financial data into digestible insights',
                        'Create an intuitive interface that builds trust',
                        'Enable one-tap transactions for common actions',
                        'Maintain security while improving accessibility'
                    ],
                    
                    // Solution
                    solution: 'We developed a card-based interface with personalized financial insights, budgeting tools, and one-tap transactions. The design system emphasized clarity, using generous white space and a limited color palette to reduce cognitive load.',
                    
                    // Annotated images - show design decisions
                    annotatedImages: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="400" height="800" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="400" height="800" fill="%23f5f5f5"/%3E%3Crect x="20" y="80" width="360" height="60" rx="12" fill="%23fff" stroke="%23e0e0e0" stroke-width="2"/%3E%3Crect x="40" y="95" width="120" height="30" rx="4" fill="%230ea5e9"/%3E%3Crect x="20" y="160" width="360" height="200" rx="12" fill="%23fff" stroke="%23e0e0e0" stroke-width="2"/%3E%3Crect x="40" y="180" width="100" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="40" y="210" width="200" height="40" rx="4" fill="%230ea5e9"/%3E%3Crect x="40" y="270" width="320" height="60" rx="8" fill="%23f0f0f0"/%3E%3Crect x="20" y="380" width="360" height="150" rx="12" fill="%23fff" stroke="%23e0e0e0" stroke-width="2"/%3E%3Ccircle cx="60" cy="420" r="20" fill="%230ea5e9"/%3E%3Crect x="95" y="410" width="100" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="95" y="440" width="150" height="15" rx="4" fill="%23f0f0f0"/%3E%3Crect x="20" y="700" width="360" height="60" rx="30" fill="%230ea5e9"/%3E%3Ctext x="200" y="735" font-family="Arial" font-size="16" fill="white" text-anchor="middle"%3EPrimary Action%3C/text%3E%3C/svg%3E',
                            caption: 'Mobile dashboard with card-based layout',
                            annotations: []
                        }
                    ],
                    
                    // Process steps
                    process: [
                        {
                            title: 'Research & Discovery',
                            description: 'Conducted 50+ user interviews to understand pain points with existing banking apps. Key finding: users wanted visibility without complexity.'
                        },
                        {
                            title: 'Define & Ideate',
                            description: 'Created journey maps identifying friction points. Developed the "financial snapshot" concept to show key info at a glance.'
                        },
                        {
                            title: 'Prototype & Test',
                            description: 'Built interactive prototypes and ran usability tests with 30 participants. Iterated on feedback to reduce cognitive load.'
                        },
                        {
                            title: 'Design System',
                            description: 'Established comprehensive design system with reusable components, ensuring consistency across all screens.'
                        }
                    ],
                    
                    // Before/after comparisons
                    comparisons: [],
                    
                    // More images - lofi wireframes and mockups
                    images: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="500" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="500" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3ETransaction Flow%3C/text%3E%3Crect x="50" y="80" width="200" height="350" rx="20" fill="%23fff" stroke="%23ddd" stroke-width="3"/%3E%3Crect x="70" y="100" width="160" height="30" rx="4" fill="%23e0e0e0"/%3E%3Crect x="70" y="150" width="160" height="250" rx="8" fill="%23f5f5f5"/%3E%3Crect x="90" y="170" width="120" height="40" rx="6" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="90" y="220" width="120" height="40" rx="6" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="90" y="270" width="120" height="40" rx="6" fill="%23fff" stroke="%23ddd"/%3E%3Cpath d="M 250 250 L 300 250" stroke="%230ea5e9" stroke-width="3" marker-end="url(%23arrowblue)"/%3E%3Crect x="300" y="80" width="200" height="350" rx="20" fill="%23fff" stroke="%23ddd" stroke-width="3"/%3E%3Crect x="320" y="100" width="160" height="30" rx="4" fill="%23e0e0e0"/%3E%3Crect x="320" y="150" width="160" height="100" rx="8" fill="%230ea5e9" opacity="0.2"/%3E%3Crect x="340" y="270" width="120" height="40" rx="20" fill="%230ea5e9"/%3E%3Cpath d="M 500 250 L 550 250" stroke="%230ea5e9" stroke-width="3" marker-end="url(%23arrowblue)"/%3E%3Crect x="550" y="80" width="200" height="350" rx="20" fill="%23fff" stroke="%23ddd" stroke-width="3"/%3E%3Crect x="570" y="100" width="160" height="30" rx="4" fill="%23e0e0e0"/%3E%3Ccircle cx="650" cy="200" r="40" fill="%2322c55e"/%3E%3Cpath d="M 630 200 L 645 215 L 670 185" stroke="white" stroke-width="4" fill="none"/%3E%3Crect x="590" y="260" width="120" height="20" rx="4" fill="%23e0e0e0"/%3E%3Cdefs%3E%3Cmarker id="arrowblue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth"%3E%3Cpath d="M0,0 L0,6 L9,3 z" fill="%230ea5e9"/%3E%3C/marker%3E%3C/defs%3E%3C/svg%3E',
                            caption: 'User flow showing the streamlined transaction process from selection to confirmation'
                        },
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="500" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="500" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3EDesktop View%3C/text%3E%3Crect x="50" y="70" width="700" height="400" rx="8" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="70" y="90" width="120" height="360" fill="%23f5f5f5"/%3E%3Crect x="85" y="110" width="90" height="30" rx="4" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="85" y="155" width="90" height="30" rx="4" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="85" y="200" width="90" height="30" rx="4" fill="%230ea5e9"/%3E%3Crect x="85" y="245" width="90" height="30" rx="4" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="210" y="90" width="520" height="60" fill="%23fff"/%3E%3Crect x="230" y="105" width="200" height="30" rx="4" fill="%23e0e0e0"/%3E%3Crect x="210" y="170" width="520" height="260" fill="%23fff"/%3E%3Crect x="230" y="190" width="240" height="220" rx="8" fill="%23f8f8f8" stroke="%23e0e0e0"/%3E%3Crect x="250" y="210" width="200" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="250" y="245" width="150" height="40" rx="6" fill="%230ea5e9"/%3E%3Crect x="250" y="300" width="200" height="80" rx="8" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="490" y="190" width="220" height="220" rx="8" fill="%23f8f8f8" stroke="%23e0e0e0"/%3E%3Ccircle cx="600" cy="270" r="50" fill="%230ea5e9" opacity="0.3"/%3E%3Crect x="520" y="340" width="160" height="30" rx="4" fill="%23e0e0e0"/%3E%3C/svg%3E',
                            caption: 'Responsive desktop interface showing sidebar navigation and dashboard overview'
                        },
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="500" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="500" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3EComponent Library%3C/text%3E%3Cg%3E%3Ctext x="100" y="90" font-family="Arial" font-size="14" fill="%23666"%3EButtons%3C/text%3E%3Crect x="100" y="100" width="120" height="40" rx="20" fill="%230ea5e9"/%3E%3Crect x="240" y="100" width="120" height="40" rx="20" fill="%23fff" stroke="%230ea5e9" stroke-width="2"/%3E%3Crect x="380" y="100" width="120" height="40" rx="20" fill="%23e0e0e0"/%3E%3C/g%3E%3Cg%3E%3Ctext x="100" y="180" font-family="Arial" font-size="14" fill="%23666"%3EInput Fields%3C/text%3E%3Crect x="100" y="190" width="200" height="45" rx="8" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="115" y="205" width="100" height="15" rx="3" fill="%23e0e0e0"/%3E%3Crect x="320" y="190" width="200" height="45" rx="8" fill="%23fff" stroke="%230ea5e9" stroke-width="2"/%3E%3C/g%3E%3Cg%3E%3Ctext x="100" y="270" font-family="Arial" font-size="14" fill="%23666"%3ECards%3C/text%3E%3Crect x="100" y="280" width="180" height="120" rx="12" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="120" y="300" width="60" height="60" rx="8" fill="%230ea5e9" opacity="0.3"/%3E%3Crect x="120" y="370" width="100" height="10" rx="3" fill="%23e0e0e0"/%3E%3Crect x="300" y="280" width="180" height="120" rx="12" fill="%23f8f8f8" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="360" cy="320" r="20" fill="%230ea5e9"/%3E%3Crect x="320" y="355" width="120" height="8" rx="3" fill="%23e0e0e0"/%3E%3Crect x="320" y="370" width="80" height="8" rx="3" fill="%23f0f0f0"/%3E%3C/g%3E%3Cg%3E%3Ctext x="550" y="90" font-family="Arial" font-size="14" fill="%23666"%3EIcons%3C/text%3E%3Ccircle cx="590" cy="125" r="25" fill="%230ea5e9"/%3E%3Ccircle cx="660" cy="125" r="25" fill="%23e0e0e0"/%3E%3Crect x="710" y="100" width="50" height="50" rx="8" fill="%23f0f0f0"/%3E%3C/g%3E%3Cg%3E%3Ctext x="550" y="180" font-family="Arial" font-size="14" fill="%23666"%3EColor Palette%3C/text%3E%3Crect x="550" y="190" width="60" height="60" fill="%230ea5e9"/%3E%3Crect x="620" y="190" width="60" height="60" fill="%237dd3fc"/%3E%3Crect x="690" y="190" width="60" height="60" fill="%23f5f5f5"/%3E%3Crect x="550" y="260" width="60" height="60" fill="%231c1917"/%3E%3Crect x="620" y="260" width="60" height="60" fill="%2357534e"/%3E%3C/g%3E%3C/svg%3E',
                            caption: 'Design system components showing buttons, inputs, cards, icons, and color palette'
                        }
                    ],
                    
                    // Outcome stats
                    outcomeText: 'The app launched successfully and exceeded all KPI targets. User feedback was overwhelmingly positive, with particular praise for the intuitive interface and clear visual hierarchy.',
                    
                    stats: [
                        { number: '10K+', label: 'First month downloads' },
                        { number: '4.8‚òÖ', label: 'App store rating' },
                        { number: '40%', label: 'Faster task completion' }
                    ],
                    
                    liveUrl: 'https://example.com/fintech',
                    codeUrl: 'https://github.com/yourusername/fintech-app'
                }
            },
            {
                id: 2,
                iconUrl: 'https://placehold.co/200x120/7dd3fc/white?text=App2',
                title: 'E-Learning Platform',
                
                caseStudy: {
                    role: 'Product Designer',
                    duration: '4 months',
                    year: '2023',
                    client: 'EduTech Inc',
                    tools: ['Figma', 'Principle', 'React', 'D3.js'],
                    
                    overview: 'An interactive learning platform that combines video lessons, quizzes, and peer collaboration. Designed for remote learning with a focus on engagement and knowledge retention.',
                    
                    challenge: 'Online learning suffers from low engagement and high dropout rates. Students struggle to stay motivated without in-person interaction and immediate feedback.',
                    
                    goals: [
                        'Increase course completion rates by 50%',
                        'Create engaging, gamified learning experience',
                        'Implement spaced repetition for better retention',
                        'Enable meaningful peer-to-peer collaboration'
                    ],
                    
                    solution: 'Created a gamified learning experience with progress tracking, achievement badges, and collaborative study groups. Implemented spaced repetition algorithms for optimal knowledge retention.',
                    
                    annotatedImages: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="600" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="600" fill="%23fafafa"/%3E%3Crect x="50" y="50" width="700" height="500" rx="12" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="70" y="70" width="300" height="40" rx="6" fill="%23e0e0e0"/%3E%3Crect x="400" y="75" width="120" height="30" rx="15" fill="%237dd3fc"/%3E%3Crect x="70" y="130" width="660" height="300" rx="8" fill="%23000" opacity="0.8"/%3E%3Ccircle cx="400" cy="280" r="40" fill="%23fff" opacity="0.9"/%3E%3Cpath d="M 385 280 L 415 280 M 400 265 L 400 295" stroke="%23000" stroke-width="3"/%3E%3Crect x="70" y="450" width="660" height="80" fill="%23f5f5f5"/%3E%3Crect x="90" y="470" width="200" height="40" rx="8" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="110" y="485" width="80" height="10" rx="3" fill="%23e0e0e0"/%3E%3Crect x="310" y="470" width="200" height="40" rx="8" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="530" y="470" width="200" height="40" rx="8" fill="%23fff" stroke="%23ddd"/%3E%3C/svg%3E',
                            caption: 'Video lesson interface with progress tracking',
                            annotations: []
                        }
                    ],
                    
                    process: [
                        {
                            title: 'Learning Psychology Research',
                            description: 'Studied cognitive science and engagement patterns in online education. Identified key motivators and barriers to completion.'
                        },
                        {
                            title: 'Competitive Analysis',
                            description: 'Analyzed 12 existing platforms to identify gaps and opportunities. Discovered gamification was underutilized.'
                        },
                        {
                            title: 'User Personas & Journeys',
                            description: 'Created detailed personas for different learner types and mapped their ideal learning journeys.'
                        },
                        {
                            title: 'Iterative Testing',
                            description: 'Tested with both educators and students throughout the process. Refined based on accessibility feedback.'
                        }
                    ],
                    
                    comparisons: [],
                    
                    images: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="500" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="500" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3EProgress Dashboard%3C/text%3E%3Crect x="50" y="70" width="700" height="400" rx="12" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="80" y="100" width="320" height="150" rx="8" fill="%23f8f8f8"/%3E%3Ccircle cx="180" cy="175" r="50" fill="none" stroke="%23e0e0e0" stroke-width="8"/%3E%3Cpath d="M 180 125 A 50 50 0 1 1 179.99 125" fill="none" stroke="%237dd3fc" stroke-width="8" stroke-linecap="round"/%3E%3Ctext x="180" y="185" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3E75%25%3C/text%3E%3Crect x="250" y="145" width="120" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="250" y="170" width="100" height="12" rx="4" fill="%23f0f0f0"/%3E%3Crect x="250" y="195" width="80" height="12" rx="4" fill="%23f0f0f0"/%3E%3Crect x="420" y="100" width="310" height="150" rx="8" fill="%23f8f8f8"/%3E%3Crect x="440" y="120" width="270" height="30" rx="4" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="455" y="128" width="80" height="14" rx="3" fill="%23e0e0e0"/%3E%3Crect x="440" y="160" width="270" height="30" rx="4" fill="%23fff" stroke="%237dd3fc" stroke-width="2"/%3E%3Crect x="440" y="200" width="270" height="30" rx="4" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="80" y="270" width="640" height="180" rx="8" fill="%23f8f8f8"/%3E%3Crect x="100" y="290" width="120" height="120" rx="8" fill="%237dd3fc" opacity="0.3"/%3E%3Crect x="110" y="360" width="100" height="30" rx="4" fill="%237dd3fc"/%3E%3Crect x="240" y="290" width="120" height="120" rx="8" fill="%23e0e0e0"/%3E%3Crect x="380" y="290" width="120" height="120" rx="8" fill="%23e0e0e0"/%3E%3Crect x="520" y="290" width="120" height="120" rx="8" fill="%23e0e0e0"/%3E%3C/svg%3E',
                            caption: 'Student dashboard showing course progress, current lessons, and achievement badges'
                        },
                        {
                            src: 'data:image/svg+xml,%3Csvg width="600" height="800" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="600" height="800" fill="%23fafafa"/%3E%3Ctext x="300" y="40" font-family="Arial" font-size="20" fill="%23333" text-anchor="middle" font-weight="bold"%3EQuiz Interface%3C/text%3E%3Crect x="50" y="70" width="500" height="700" rx="20" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="80" y="100" width="440" height="60" fill="%23f5f5f5"/%3E%3Crect x="100" y="115" width="200" height="30" rx="4" fill="%23e0e0e0"/%3E%3Crect x="450" y="120" width="50" height="20" rx="10" fill="%237dd3fc"/%3E%3Crect x="80" y="180" width="440" height="120" rx="8" fill="%23f8f8f8"/%3E%3Crect x="100" y="200" width="400" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="100" y="225" width="380" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="100" y="250" width="350" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="80" y="320" width="440" height="60" rx="8" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="110" cy="350" r="15" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="140" y="340" width="200" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="80" y="390" width="440" height="60" rx="8" fill="%23fff" stroke="%237dd3fc" stroke-width="3"/%3E%3Ccircle cx="110" cy="420" r="15" fill="%237dd3fc"/%3E%3Crect x="140" y="410" width="200" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="80" y="460" width="440" height="60" rx="8" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="110" cy="490" r="15" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="140" y="480" width="200" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="80" y="530" width="440" height="60" rx="8" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="110" cy="560" r="15" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="140" y="550" width="200" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="150" y="650" width="300" height="60" rx="30" fill="%237dd3fc"/%3E%3Ctext x="300" y="685" font-family="Arial" font-size="18" fill="white" text-anchor="middle" font-weight="bold"%3ESubmit Answer%3C/text%3E%3C/svg%3E',
                            caption: 'Interactive quiz with multiple choice questions and immediate feedback'
                        }
                    ],
                    
                    outcomeText: 'The platform exceeded expectations with significantly higher engagement and completion rates. Educators reported that students were more motivated and retained information better.',
                    
                    stats: [
                        { number: '65%', label: 'Increase in completion' },
                        { number: '4.7/5', label: 'Student satisfaction' },
                        { number: '80%', label: 'Daily active learners' }
                    ],
                    
                    liveUrl: 'https://example.com/elearning',
                    codeUrl: null
                }
            },
            {
                id: 3,
                iconUrl: 'https://placehold.co/180x180/38bdf8/white?text=App3',
                title: 'Health Tracking App',
                
                caseStudy: {
                    role: 'UI/UX Designer',
                    duration: '2 months',
                    year: '2024',
                    client: 'WellnessCo',
                    tools: ['Sketch', 'InVision', 'Swift'],
                    
                    overview: 'A comprehensive wellness app that tracks nutrition, exercise, sleep, and mental health in one unified experience.',
                    
                    challenge: 'Users were juggling 3-4 different apps to track various health aspects, leading to fragmented data and poor adherence to wellness goals.',
                    
                    goals: [
                        'Unify multiple health tracking functions',
                        'Provide actionable AI-powered insights',
                        'Create beautiful data visualizations',
                        'Support sustainable habit formation'
                    ],
                    
                    solution: 'Designed an all-in-one platform with smart integrations, AI-powered insights, and personalized recommendations based on holistic health data.',
                    
                    annotatedImages: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="400" height="800" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="400" height="800" fill="%23f0f9ff"/%3E%3Crect x="20" y="80" width="360" height="120" rx="16" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ctext x="200" y="115" font-family="Arial" font-size="16" fill="%23666" text-anchor="middle"%3EDaily Health Score%3C/text%3E%3Ctext x="200" y="165" font-family="Arial" font-size="48" fill="%2338bdf8" text-anchor="middle" font-weight="bold"%3E87%3C/text%3E%3Crect x="20" y="220" width="170" height="140" rx="16" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="105" cy="275" r="35" fill="none" stroke="%23e0e0e0" stroke-width="6"/%3E%3Cpath d="M 105 240 A 35 35 0 1 1 104.99 240" fill="none" stroke="%2338bdf8" stroke-width="6" stroke-linecap="round"/%3E%3Ctext x="105" y="335" font-family="Arial" font-size="12" fill="%23666" text-anchor="middle"%3EActivity%3C/text%3E%3Crect x="210" y="220" width="170" height="140" rx="16" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="295" cy="275" r="35" fill="none" stroke="%23e0e0e0" stroke-width="6"/%3E%3Cpath d="M 295 240 A 35 35 0 0 1 295 310" fill="none" stroke="%2322c55e" stroke-width="6" stroke-linecap="round"/%3E%3Ctext x="295" y="335" font-family="Arial" font-size="12" fill="%23666" text-anchor="middle"%3ESleep%3C/text%3E%3Crect x="20" y="380" width="360" height="200" rx="16" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ctext x="40" y="410" font-family="Arial" font-size="14" fill="%23666"%3EWeekly Trends%3C/text%3E%3Cpath d="M 40 550 L 80 520 L 120 530 L 160 490 L 200 500 L 240 470 L 280 480 L 320 450 L 360 460" stroke="%2338bdf8" stroke-width="3" fill="none"/%3E%3Cpath d="M 40 570 L 40 550 L 80 520 L 120 530 L 160 490 L 200 500 L 240 470 L 280 480 L 320 450 L 360 460 L 360 570 Z" fill="%2338bdf8" opacity="0.2"/%3E%3C/svg%3E',
                            caption: 'Health dashboard with daily score and activity tracking',
                            annotations: []
                        }
                    ],
                    
                    process: [
                        {
                            title: 'Expert Interviews',
                            description: 'Interviewed healthcare professionals and wellness coaches to understand what metrics matter most.'
                        },
                        {
                            title: 'User Flow Mapping',
                            description: 'Mapped current multi-app workflows to identify pain points and opportunities for consolidation.'
                        },
                        {
                            title: 'Data Visualization',
                            description: 'Designed unified visualization system that makes complex health data approachable and actionable.'
                        },
                        {
                            title: 'Micro-interactions',
                            description: 'Created delightful micro-interactions to support habit formation and celebrate progress.'
                        }
                    ],
                    
                    comparisons: [],
                    
                    images: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="500" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="500" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3ENutrition Tracking%3C/text%3E%3Crect x="50" y="80" width="300" height="380" rx="30" fill="%23fff" stroke="%23ddd" stroke-width="3"/%3E%3Crect x="70" y="100" width="260" height="50" rx="8" fill="%23f5f5f5"/%3E%3Crect x="90" y="115" width="150" height="20" rx="4" fill="%23e0e0e0"/%3E%3Crect x="70" y="170" width="260" height="120" rx="12" fill="%23f8f8f8"/%3E%3Ccircle cx="155" cy="230" r="40" fill="none" stroke="%23e0e0e0" stroke-width="8"/%3E%3Cpath d="M 155 190 A 40 40 0 0 1 195 230" fill="none" stroke="%2338bdf8" stroke-width="8"/%3E%3Cpath d="M 195 230 A 40 40 0 0 1 155 270" fill="none" stroke="%2322c55e" stroke-width="8"/%3E%3Cpath d="M 155 270 A 40 40 0 0 1 115 230" fill="none" stroke="%23fbbf24" stroke-width="8"/%3E%3Cpath d="M 115 230 A 40 40 0 0 1 155 190" fill="none" stroke="%23ef4444" stroke-width="8"/%3E%3Crect x="210" y="210" width="80" height="40" rx="6" fill="%23fff" stroke="%23ddd"/%3E%3Crect x="70" y="310" width="260" height="130" rx="12" fill="%23f8f8f8"/%3E%3Crect x="90" y="330" width="220" height="25" rx="4" fill="%23e0e0e0"/%3E%3Crect x="90" y="365" width="180" height="20" rx="4" fill="%23f0f0f0"/%3E%3Crect x="90" y="395" width="200" height="20" rx="4" fill="%23f0f0f0"/%3E%3Crect x="400" y="80" width="350" height="380" rx="12" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ctext x="420" y="110" font-family="Arial" font-size="16" fill="%23666" font-weight="bold"%3EMeal Log%3C/text%3E%3Crect x="420" y="130" width="310" height="70" rx="8" fill="%23f8f8f8"/%3E%3Crect x="440" y="145" width="60" height="40" rx="6" fill="%2338bdf8" opacity="0.3"/%3E%3Crect x="510" y="150" width="100" height="12" rx="3" fill="%23e0e0e0"/%3E%3Crect x="510" y="170" width="80" height="10" rx="3" fill="%23f0f0f0"/%3E%3Crect x="420" y="215" width="310" height="70" rx="8" fill="%23f8f8f8"/%3E%3Crect x="440" y="230" width="60" height="40" rx="6" fill="%2322c55e" opacity="0.3"/%3E%3Crect x="510" y="235" width="100" height="12" rx="3" fill="%23e0e0e0"/%3E%3Crect x="510" y="255" width="80" height="10" rx="3" fill="%23f0f0f0"/%3E%3Crect x="420" y="300" width="310" height="70" rx="8" fill="%23f8f8f8"/%3E%3Crect x="440" y="315" width="60" height="40" rx="6" fill="%23fbbf24" opacity="0.3"/%3E%3Crect x="510" y="320" width="100" height="12" rx="3" fill="%23e0e0e0"/%3E%3Crect x="510" y="340" width="80" height="10" rx="3" fill="%23f0f0f0"/%3E%3Ccircle cx="575" cy="415" r="30" fill="%2338bdf8"/%3E%3Ctext x="575" y="425" font-family="Arial" font-size="28" fill="white" text-anchor="middle" font-weight="bold"%3E+%3C/text%3E%3C/svg%3E',
                            caption: 'Nutrition tracking with calorie breakdown and meal logging interface'
                        }
                    ],
                    
                    outcomeText: 'The app successfully consolidated health tracking into a single, beautiful experience. Users reported significant improvements in goal achievement and overall health awareness.',
                    
                    stats: [
                        { number: '78%', label: 'Goal achievement rate' },
                        { number: '50K+', label: 'Active users in 6 months' },
                        { number: 'Featured', label: 'App Store highlight' }
                    ],
                    
                    liveUrl: 'https://example.com/health',
                    codeUrl: 'https://github.com/yourusername/health-app'
                }
            },
            {
                id: 4,
                iconUrl: 'https://placehold.co/160x140/0284c7/white?text=App4',
                title: 'Design System',
                
                caseStudy: {
                    role: 'Design Systems Lead',
                    duration: '6 months',
                    year: '2023',
                    client: 'TechCorp',
                    tools: ['Figma', 'Storybook', 'React', 'TypeScript'],
                    
                    overview: 'Built a comprehensive design system from the ground up to unify the visual language across 12 product teams and ensure consistency at scale.',
                    
                    challenge: 'Inconsistent UI patterns, duplicated components, and slow design-to-development handoff were causing quality issues and wasting resources across the organization.',
                    
                    goals: [
                        'Create unified component library',
                        'Reduce design-to-dev handoff time by 50%',
                        'Establish clear design principles',
                        'Enable teams to ship faster with confidence'
                    ],
                    
                    solution: 'Created a modular design system with reusable components, comprehensive documentation, and automated tooling for both designers and developers.',
                    
                    annotatedImages: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="600" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="600" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="28" fill="%23333" text-anchor="middle" font-weight="bold"%3EComponent Library%3C/text%3E%3Ctext x="50" y="90" font-family="Arial" font-size="16" fill="%23666" font-weight="bold"%3EButtons%3C/text%3E%3Crect x="50" y="100" width="140" height="45" rx="23" fill="%230284c7"/%3E%3Ctext x="120" y="127" font-family="Arial" font-size="14" fill="white" text-anchor="middle" font-weight="bold"%3EPrimary%3C/text%3E%3Crect x="210" y="100" width="140" height="45" rx="23" fill="%23fff" stroke="%230284c7" stroke-width="2"/%3E%3Ctext x="280" y="127" font-family="Arial" font-size="14" fill="%230284c7" text-anchor="middle" font-weight="bold"%3ESecondary%3C/text%3E%3Crect x="370" y="100" width="140" height="45" rx="23" fill="%23e0e0e0"/%3E%3Ctext x="440" y="127" font-family="Arial" font-size="14" fill="%23999" text-anchor="middle" font-weight="bold"%3EDisabled%3C/text%3E%3Ctext x="50" y="190" font-family="Arial" font-size="16" fill="%23666" font-weight="bold"%3EInput Fields%3C/text%3E%3Crect x="50" y="200" width="250" height="50" rx="8" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Ctext x="70" y="230" font-family="Arial" font-size="14" fill="%23999"%3EPlaceholder text%3C/text%3E%3Crect x="320" y="200" width="250" height="50" rx="8" fill="%23fff" stroke="%230284c7" stroke-width="2"/%3E%3Ctext x="340" y="230" font-family="Arial" font-size="14" fill="%23333"%3EFocused state%3C/text%3E%3Ctext x="50" y="290" font-family="Arial" font-size="16" fill="%23666" font-weight="bold"%3ECards%3C/text%3E%3Crect x="50" y="300" width="220" height="150" rx="12" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="70" y="320" width="80" height="80" rx="8" fill="%230284c7" opacity="0.2"/%3E%3Crect x="70" y="410" width="150" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="290" y="300" width="220" height="150" rx="12" fill="%23f8f8f8" stroke="%23ddd" stroke-width="2"/%3E%3Ccircle cx="350" cy="350" r="25" fill="%230284c7"/%3E%3Crect x="310" y="395" width="120" height="12" rx="3" fill="%23e0e0e0"/%3E%3Crect x="310" y="415" width="90" height="10" rx="3" fill="%23f0f0f0"/%3E%3Ctext x="580" y="90" font-family="Arial" font-size="16" fill="%23666" font-weight="bold"%3EColor System%3C/text%3E%3Crect x="580" y="100" width="70" height="70" fill="%230284c7"/%3E%3Ctext x="615" y="190" font-family="Arial" font-size="11" fill="%23666" text-anchor="middle"%3EPrimary%3C/text%3E%3Crect x="660" y="100" width="70" height="70" fill="%2338bdf8"/%3E%3Ctext x="695" y="190" font-family="Arial" font-size="11" fill="%23666" text-anchor="middle"%3ESecondary%3C/text%3E%3Crect x="580" y="210" width="70" height="70" fill="%231c1917"/%3E%3Ctext x="615" y="295" font-family="Arial" font-size="11" fill="%23666" text-anchor="middle"%3EText%3C/text%3E%3Crect x="660" y="210" width="70" height="70" fill="%23f5f5f5"/%3E%3Ctext x="695" y="295" font-family="Arial" font-size="11" fill="%23666" text-anchor="middle"%3EBackground%3C/text%3E%3Ctext x="580" y="330" font-family="Arial" font-size="16" fill="%23666" font-weight="bold"%3ETypography%3C/text%3E%3Ctext x="580" y="360" font-family="Arial" font-size="32" fill="%23333" font-weight="bold"%3EHeading%3C/text%3E%3Ctext x="580" y="390" font-family="Arial" font-size="18" fill="%23333"%3ESubheading%3C/text%3E%3Ctext x="580" y="415" font-family="Arial" font-size="14" fill="%23666"%3EBody text example%3C/text%3E%3Ctext x="580" y="435" font-family="Arial" font-size="12" fill="%23999"%3ECaption text%3C/text%3E%3C/svg%3E',
                            caption: 'Complete design system showing components, colors, and typography',
                            annotations: []
                        }
                    ],
                    
                    process: [
                        {
                            title: 'Audit & Inventory',
                            description: 'Catalogued all existing components across products. Found 200+ variations of "button" alone.'
                        },
                        {
                            title: 'Design Principles',
                            description: 'Established core principles: Clarity, Consistency, Efficiency, and Accessibility.'
                        },
                        {
                            title: 'Component Development',
                            description: 'Built library in Figma with matching React components. Used Storybook for interactive documentation.'
                        },
                        {
                            title: 'Rollout & Training',
                            description: 'Conducted workshops for all teams. Created migration guides and provided ongoing support.'
                        }
                    ],
                    
                    comparisons: [],
                    
                    images: [
                        {
                            src: 'data:image/svg+xml,%3Csvg width="800" height="500" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="800" height="500" fill="%23fafafa"/%3E%3Ctext x="400" y="40" font-family="Arial" font-size="24" fill="%23333" text-anchor="middle" font-weight="bold"%3EDocumentation Portal%3C/text%3E%3Crect x="50" y="70" width="700" height="400" rx="12" fill="%23fff" stroke="%23ddd" stroke-width="2"/%3E%3Crect x="70" y="90" width="180" height="360" fill="%23f8f8f8"/%3E%3Crect x="90" y="110" width="140" height="35" rx="6" fill="%230284c7" opacity="0.2"/%3E%3Ctext x="160" y="133" font-family="Arial" font-size="13" fill="%230284c7" text-anchor="middle" font-weight="bold"%3EGetting Started%3C/text%3E%3Crect x="90" y="155" width="140" height="35" rx="6" fill="%23fff"/%3E%3Ctext x="160" y="178" font-family="Arial" font-size="13" fill="%23666" text-anchor="middle"%3EComponents%3C/text%3E%3Crect x="90" y="200" width="140" height="35" rx="6" fill="%23fff"/%3E%3Ctext x="160" y="223" font-family="Arial" font-size="13" fill="%23666" text-anchor="middle"%3EFoundations%3C/text%3E%3Crect x="90" y="245" width="140" height="35" rx="6" fill="%23fff"/%3E%3Ctext x="160" y="268" font-family="Arial" font-size="13" fill="%23666" text-anchor="middle"%3EPatterns%3C/text%3E%3Crect x="90" y="290" width="140" height="35" rx="6" fill="%23fff"/%3E%3Ctext x="160" y="313" font-family="Arial" font-size="13" fill="%23666" text-anchor="middle"%3EResources%3C/text%3E%3Crect x="270" y="90" width="460" height="360" fill="%23fff"/%3E%3Ctext x="290" y="120" font-family="Arial" font-size="20" fill="%23333" font-weight="bold"%3EWelcome to the Design System%3C/text%3E%3Crect x="290" y="140" width="420" height="2" fill="%23e0e0e0"/%3E%3Crect x="290" y="160" width="400" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="290" y="185" width="380" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="290" y="210" width="390" height="15" rx="4" fill="%23e0e0e0"/%3E%3Crect x="290" y="250" width="200" height="80" rx="8" fill="%23f0f9ff" stroke="%230284c7"/%3E%3Crect x="310" y="270" width="160" height="12" rx="3" fill="%230284c7" opacity="0.3"/%3E%3Crect x="310" y="290" width="140" height="10" rx="3" fill="%230284c7" opacity="0.2"/%3E%3Crect x="510" y="250" width="200" height="80" rx="8" fill="%23f0f9ff" stroke="%230284c7"/%3E%3Crect x="530" y="270" width="160" height="12" rx="3" fill="%230284c7" opacity="0.3"/%3E%3Crect x="530" y="290" width="140" height="10" rx="3" fill="%230284c7" opacity="0.2"/%3E%3Crect x="290" y="350" width="420" height="80" rx="8" fill="%23f8f8f8"/%3E%3Crect x="310" y="370" width="200" height="12" rx="3" fill="%23e0e0e0"/%3E%3Crect x="310" y="390" width="350" height="10" rx="3" fill="%23f0f0f0"/%3E%3Crect x="310" y="408" width="330" height="10" rx="3" fill="%23f0f0f0"/%3E%3C/svg%3E',
                            caption: 'Comprehensive documentation portal with getting started guides and component references'
                        }
                    ],
                    
                    outcomeText: 'The design system transformed how the company builds products. Teams ship faster with higher quality, and the consistent experience delights users.',
                    
                    stats: [
                        { number: '50%', label: 'Faster design-to-dev' },
                        { number: '95%', label: 'Component adoption' },
                        { number: '12', label: 'Product teams using it' }
                    ],
                    
                    liveUrl: 'https://example.com/design-system',
                    codeUrl: 'https://github.com/yourusername/design-system'
                }
            }
        ];

        const canvas = document.getElementById('canvas');
        const modal = document.getElementById('caseStudyModal');
        const modalOverlay = document.getElementById('modalOverlay');
        const closeBtn = document.getElementById('closeBtn');

        let dragging = null;
        let offset = { x: 0, y: 0 };

        // Initialize projects
        function initProjects() {
            const canvasRect = canvas.getBoundingClientRect();
            const positions = generatePositions(projects.length, canvasRect);

            projects.forEach((project, index) => {
                addProjectToCanvas(project, positions[index]);
            });
        }

        // Add project icon to canvas
        function addProjectToCanvas(project, position) {
            const icon = document.createElement('div');
            icon.className = 'project-icon';
            icon.dataset.projectId = project.id;
            icon.style.left = `${position.x}px`;
            icon.style.top = `${position.y}px`;

            const img = document.createElement('img');
            img.src = project.iconUrl;
            img.alt = project.title;
            img.draggable = false;

            img.onload = function() {
                const maxSize = 200;
                if (this.naturalWidth > maxSize || this.naturalHeight > maxSize) {
                    if (this.naturalWidth > this.naturalHeight) {
                        img.style.width = maxSize + 'px';
                    } else {
                        img.style.height = maxSize + 'px';
                    }
                }
            };

            const label = document.createElement('div');
            label.className = 'icon-label';
            label.textContent = project.title;

            icon.appendChild(img);
            icon.appendChild(label);

            icon.addEventListener('mousedown', startDrag);
            icon.addEventListener('touchstart', startDrag, { passive: false });
            icon.addEventListener('click', (e) => {
                if (!icon.classList.contains('dragging')) {
                    openCaseStudy(project, icon);
                }
            });

            canvas.appendChild(icon);
        }

        // Generate positions
        function generatePositions(count, containerRect) {
            const positions = [];
            const minDistance = 180;
            const margin = 50;

            for (let i = 0; i < count; i++) {
                let attempt = 0;
                let validPosition = false;
                let x, y;

                while (!validPosition && attempt < 100) {
                    x = margin + Math.random() * (containerRect.width - 250);
                    y = margin + Math.random() * (containerRect.height - 250);

                    validPosition = positions.every(pos => {
                        const distance = Math.sqrt(Math.pow(x - pos.x, 2) + Math.pow(y - pos.y, 2));
                        return distance >= minDistance;
                    });

                    attempt++;
                }

                positions.push({ x: x || margin, y: y || margin });
            }

            return positions;
        }

        // Drag functionality
        function startDrag(e) {
            e.preventDefault();
            dragging = e.currentTarget;
            dragging.classList.add('dragging');

            const rect = dragging.getBoundingClientRect();
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;

            offset.x = clientX - rect.left;
            offset.y = clientY - rect.top;

            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);
        }

        function drag(e) {
            if (!dragging) return;
            e.preventDefault();

            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;

            const canvasRect = canvas.getBoundingClientRect();
            let x = clientX - canvasRect.left - offset.x;
            let y = clientY - canvasRect.top - offset.y;

            x = Math.max(0, Math.min(x, canvasRect.width - dragging.offsetWidth));
            y = Math.max(0, Math.min(y, canvasRect.height - dragging.offsetHeight));

            dragging.style.left = `${x}px`;
            dragging.style.top = `${y}px`;
        }

        function stopDrag() {
            if (dragging) {
                dragging.classList.remove('dragging');
                dragging = null;
            }
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('touchmove', drag);
            document.removeEventListener('mouseup', stopDrag);
            document.removeEventListener('touchend', stopDrag);
        }

        // Open case study with bento layout
        function openCaseStudy(project, iconElement) {
            const previousSelected = document.querySelector('.project-icon.selected');
            if (previousSelected) {
                previousSelected.classList.remove('selected');
            }

            iconElement.classList.add('selected');

            const cs = project.caseStudy;
            const csContent = document.getElementById('csContent');
            
            let html = '';

            // Header
            html += `
                <div class="cs-header">
                    <h1 class="cs-title">${project.title}</h1>
                    
                    <div class="cs-meta">
                        <div class="cs-meta-item">
                            <div class="cs-meta-label">Role</div>
                            <div class="cs-meta-value">${cs.role}</div>
                        </div>
                        <div class="cs-meta-item">
                            <div class="cs-meta-label">Duration</div>
                            <div class="cs-meta-value">${cs.duration}</div>
                        </div>
                        <div class="cs-meta-item">
                            <div class="cs-meta-label">Year</div>
                            <div class="cs-meta-value">${cs.year}</div>
                        </div>
                        <div class="cs-meta-item">
                            <div class="cs-meta-label">Client</div>
                            <div class="cs-meta-value">${cs.client}</div>
                        </div>
                    </div>

                    <div class="cs-tools">
                        ${cs.tools.map(tool => `<span class="cs-tool">${tool}</span>`).join('')}
                    </div>

                    <div class="cs-links">
                        ${cs.liveUrl ? `<a href="${cs.liveUrl}" class="cs-link" target="_blank">View Live ‚Üí</a>` : ''}
                        ${cs.codeUrl ? `<a href="${cs.codeUrl}" class="cs-link" target="_blank">View Code ‚Üí</a>` : ''}
                    </div>
                </div>
            `;

            // Overview
            html += `
                <div class="cs-section">
                    <div class="cs-section-label">01 ‚Äî OVERVIEW</div>
                    <h2 class="cs-section-title">Overview</h2>
                    <p class="cs-text">${cs.overview}</p>
                </div>
            `;

            // First image - full width
            if (cs.images && cs.images[0]) {
                html += `
                    <div class="cs-section full-width">
                        <div class="cs-image-single">
                            <img src="${cs.images[0].src}" alt="${cs.images[0].caption}">
                        </div>
                        ${cs.images[0].caption ? `<p class="cs-image-caption">${cs.images[0].caption}</p>` : ''}
                    </div>
                `;
            }

            // Challenge
            html += `
                <div class="cs-section">
                    <div class="cs-section-label">02 ‚Äî CHALLENGE</div>
                    <h2 class="cs-section-title">The Challenge</h2>
                    <p class="cs-text">${cs.challenge}</p>
                </div>
            `;

            // Goals
            if (cs.goals && cs.goals.length > 0) {
                html += `
                    <div class="cs-section">
                        <div class="cs-section-label">03 ‚Äî GOALS</div>
                        <h2 class="cs-section-title">Goals</h2>
                        <ul class="cs-goals">
                            ${cs.goals.map(goal => `
                                <li class="cs-goal-item">
                                    <div class="cs-goal-icon">‚úì</div>
                                    <div class="cs-goal-text">${goal}</div>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            }

            // Solution
            const solutionIndex = cs.goals ? '04' : '03';
            html += `
                <div class="cs-section">
                    <div class="cs-section-label">${solutionIndex} ‚Äî SOLUTION</div>
                    <h2 class="cs-section-title">The Solution</h2>
                    <p class="cs-text">${cs.solution}</p>
                </div>
            `;

            // Bento grid with images 2 & 3
            if (cs.images && cs.images.length >= 3) {
                html += `
                    <div class="cs-section full-width">
                        <div class="cs-image-bento cols-2">
                            <div class="cs-bento-item">
                                <img src="${cs.images[1].src}" alt="${cs.images[1].caption}">
                            </div>
                            <div class="cs-bento-item">
                                <img src="${cs.images[2].src}" alt="${cs.images[2].caption}">
                            </div>
                        </div>
                    </div>
                `;
            }

            // Process
            if (cs.process && cs.process.length > 0) {
                const processIndex = cs.goals ? '05' : '04';
                html += `
                    <div class="cs-section">
                        <div class="cs-section-label">${processIndex} ‚Äî PROCESS</div>
                        <h2 class="cs-section-title">Process</h2>
                        <div class="cs-process-steps">
                            ${cs.process.map((step, idx) => `
                                <div class="cs-process-item">
                                    <div class="cs-process-number">${idx + 1}</div>
                                    <div class="cs-process-title">${step.title}</div>
                                    <div class="cs-process-desc">${step.description}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            // Additional images if available
            if (cs.images && cs.images.length > 3) {
                html += `
                    <div class="cs-section full-width">
                        <div class="cs-image-single">
                            <img src="${cs.images[3].src}" alt="${cs.images[3].caption || ''}">
                        </div>
                        ${cs.images[3].caption ? `<p class="cs-image-caption">${cs.images[3].caption}</p>` : ''}
                    </div>
                `;
            }

            // Outcome
            const outcomeIndex = cs.goals ? (cs.process ? '06' : '05') : (cs.process ? '05' : '04');
            html += `
                <div class="cs-section">
                    <div class="cs-section-label">${outcomeIndex} ‚Äî RESULTS</div>
                    <h2 class="cs-section-title">Outcome</h2>
                    <p class="cs-text">${cs.outcomeText}</p>
                    
                    ${cs.stats && cs.stats.length > 0 ? `
                        <div class="cs-stats">
                            ${cs.stats.map(stat => `
                                <div class="cs-stat">
                                    <div class="cs-stat-number">${stat.number}</div>
                                    <div class="cs-stat-label">${stat.label}</div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `;

            csContent.innerHTML = html;

            modal.classList.add('visible');
            document.body.style.overflow = 'hidden';

            // Initialize scroll animations
            initScrollAnimations();
        }

        // Scroll animations using Intersection Observer
        function initScrollAnimations() {
            const sections = document.querySelectorAll('.cs-section');

            const observerOptions = {
                threshold: 0.15,
                rootMargin: '0px 0px -10% 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });

            // Trigger initial animations for elements in view
            setTimeout(() => {
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top < window.innerHeight && rect.bottom > 0) {
                        section.classList.add('visible');
                    }
                });
            }, 100);
        }

        // Close modal
        function closeCaseStudy() {
            modal.classList.remove('visible');
            document.body.style.overflow = '';
            
            const selected = document.querySelector('.project-icon.selected');
            if (selected) {
                selected.classList.remove('selected');
            }
        }

        closeBtn.addEventListener('click', closeCaseStudy);
        modalOverlay.addEventListener('click', closeCaseStudy);

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('visible')) {
                closeCaseStudy();
            }
        });

        // Initialize
        initProjects();

        // Handle resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                const icons = document.querySelectorAll('.project-icon');
                const canvasRect = canvas.getBoundingClientRect();
                
                icons.forEach(icon => {
                    let x = parseInt(icon.style.left);
                    let y = parseInt(icon.style.top);
                    
                    if (x + icon.offsetWidth > canvasRect.width) {
                        icon.style.left = `${Math.max(0, canvasRect.width - icon.offsetWidth - 20)}px`;
                    }
                    if (y + icon.offsetHeight > canvasRect.height) {
                        icon.style.top = `${Math.max(0, canvasRect.height - icon.offsetHeight - 20)}px`;
                    }
                });
            }, 250);
        });
    </script>
</body>
</html>